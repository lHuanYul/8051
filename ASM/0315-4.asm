	ORG	0000H
		LJMP	START
	ORG	000BH
		LJMP	STOPT0
	ORG	0100H
START:		MOV	TMOD, #00010001B
		MOV	P3, #0FFH
		SETB	EA
		SETB	ET0
		SETB	TR0
		SETB	TF0
	SSET0:	MOV	071H, #000H	//NUMS POS.START SELECT
	SSET1:	MOV	072H, 071H
LOOP:		MOV	DPTR, #0400H	//NUM TEST
		MOV	A, 072H
		MOVC	A, @A+DPTR
		CJNE	A, #0FFH, CONT0
		LJMP	SSET0
	CONT0:	CJNE	A, #0F1H, CONT1
		LJMP	SSET1
	CONT1:	MOV	R2, A
		LCALL	LIGHT
		JB	P3.2, BUTRS	//BUTTON
		JB	02FH.0, LOOP
		SETB	02FH.0
		MOV	A, 071H
		ADD	A, #009
		MOV	071H, A
		MOV	TL0, #0B0H
		MOV	TH0, #03CH
		MOV	07FH, #20
		LJMP	SSET1
	BUTRS:	CLR	02FH.0
		LJMP	LOOP
LIGHT:		MOV	070H, #01111111B
		MOV	DPTR, #04F0H	//NUM TABLE POS.START SELECT
		MOV	A, R2
		MOVC	A, @A+DPTR
		MOV	R2, A
		MOV	DPTR, #0500H	//NUM TABLE POS SELECT
	LIGLO:  MOV	A, R2
		MOVC	A, @A+DPTR
		CPL	A		//SW0&1
		MOV	P2, 070H	//123
		MOV	P1, A		//ABC 1015
		LCALL	DELAY
		INC	R2
		MOV	A, 070H
		RR	A
		MOV	070H, A
		CJNE	A, #01111111B, LIGLO
		RET
DELAY:		SETB	TR1
		MOV	TH1, #0F8H
		MOV	TL1, #030H
	DELW:   JB	TF1,DELFI
		AJMP	DELW
	DELFI:  CLR	TF1
		CLR	TR1
		RET
STOPT0:		MOV	TL0, #0B0H
		MOV	TH0, #03CH
		CLR	TF0
		DJNZ	07FH, ST0EN
		MOV	07FH, #20
		INC	072H
	ST0EN:	RETI

TAB01:
	ORG	0400H
		DB	00DH
		DB	001H
		DB	001H
		DB	005H
		DB	002H
		DB	009H
		DB	008H
		DB	004H
		DB	0F1H
		DB	00DH
		DB	001H
		DB	001H
		DB	005H
		DB	003H
		DB	003H
		DB	001H
		DB	007H
		DB	0F1H
		DB	00DH
		DB	001H
		DB	001H
		DB	005H
		DB	003H
		DB	003H
		DB	008H
		DB	001H
		DB	0F1H
		DB	00DH
		DB	001H
		DB	001H
		DB	008H
		DB	006H
		DB	003H
		DB	006H
		DB	009H
		DB	0F1H
		DB	00DH
		DB	001H
		DB	002H
		DB	009H
		DB	009H
		DB	009H
		DB	002H
		DB	007H
		DB	0F1H
	ORG	04F0H
		DB	000H
		DB	008H
		DB	010H
		DB	018H
		DB	020H
		DB	028H
		DB	030H
		DB	038H
		DB	040H
		DB	048H
		DB	050H
		DB	058H
		DB	060H
		DB	068H
		DB	070H
		DB	078H
	ORG	0500H
		DB	00111100B
		DB	01111110B
		DB	01100110B
		DB	01100110B
		DB	01100110B
		DB	01100110B
		DB	01111110B
		DB	00111100B
	ORG	0508H
		DB	00011000B
		DB	00111000B
		DB	01111000B
		DB	00011000B
		DB	00011000B
		DB	00011000B
		DB	01111110B
		DB	01111110B
	ORG	0510H
		DB	00111110B
		DB	01111110B
		DB	00000110B
		DB	00111110B
		DB	01111100B
		DB	01100000B
		DB	01111110B
		DB	01111110B
	ORG	0518H
		DB	00111100B
		DB	01111110B
		DB	00000110B
		DB	01111110B
		DB	01111110B
		DB	00000110B
		DB	01111110B
		DB	00111100B
	ORG	0520H
		DB	00100110B
		DB	01100110B
		DB	01100110B
		DB	01111110B
		DB	01111110B
		DB	00000110B
		DB	00000110B
		DB	00000110B
	ORG	0528H
		DB	01111110B
		DB	01111110B
		DB	01100000B
		DB	01111100B
		DB	00111110B
		DB	00000110B
		DB	01111110B
		DB	00111100B
	ORG	0530H
		DB	00111100B
		DB	01111110B
		DB	01100000B
		DB	01111100B
		DB	01111110B
		DB	01100110B
		DB	01111110B
		DB	00111100B
	ORG	0538H
		DB	00111100B
		DB	01111110B
		DB	01100110B
		DB	00000110B
		DB	00000110B
		DB	00000110B
		DB	00000110B
		DB	00000110B
	ORG	0540H
		DB	00111100B
		DB	01111110B
		DB	01100110B
		DB	01111110B
		DB	01111110B
		DB	01100110B
		DB	01111110B
		DB	00111100B
	ORG	0548H
		DB	00111100B
		DB	01111110B
		DB	01100110B
		DB	01111110B
		DB	00111110B
		DB	00000110B
		DB	01111110B
		DB	00111100B
	ORG	0550H
		DB	00111100B
		DB	01111110B
		DB	01100110B
		DB	01100110B
		DB	01111110B
		DB	01111110B
		DB	01100110B
		DB	01100110B
	ORG	0558H
		DB	01100000B
		DB	01100000B
		DB	01100000B
		DB	01111100B
		DB	01111110B
		DB	01100110B
		DB	01111110B
		DB	01111100B
	ORG	0560H
		DB	00111100B
		DB	01111110B
		DB	01100000B
		DB	01100000B
		DB	01100000B
		DB	01100000B
		DB	01111110B
		DB	00111100B
	ORG	0568H
		DB	00000110B
		DB	00000110B
		DB	00000110B
		DB	00111110B
		DB	01111110B
		DB	01100110B
		DB	01111110B
		DB	00111110B
	ORG	0570H
		DB	01111110B
		DB	01111110B
		DB	01100000B
		DB	01111110B
		DB	01111110B
		DB	01100000B
		DB	01111110B
		DB	01111110B
	ORG	0578H
		DB	01111100B
		DB	01111110B
		DB	01100000B
		DB	01111110B
		DB	01111110B
		DB	01100000B
		DB	01100000B
		DB	01100000B
	END