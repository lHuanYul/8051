	ORG	0000H
		LJMP	MAIN
	ORG	000BH
	ORG	0100H
MAIN:		MOV	P0, #0FFH	//LOCKs
		MOV	021H, #000H
		MOV	P1, #0FFH	//BUTTON
		MOV	022H, #000H	//BUTTON T07
		MOV	023H, #000H	//BUTTON T8F
		MOV	030H, #0FFH
		MOV	031H, #0FFH
		MOV	032H, #0FFH
		MOV	033H, #0FFH
		MOV	P2, #0FFH	//LED
		MOV	020H, #00000000B
		MOV	02FH, #00H	//BUFFER
		MOV     TMOD, #00010001B
		SETB	TR0
	START:	LCALL	RESET0
		LCALL	INPUT0
		LCALL	OUTPU0
		LCALL	DELAY
		LJMP	START
RESET0:		MOV	021H, #00000000B
		MOV	022H, #000H
		MOV	023H, #000H
		RET
INPUT0:		MOV	R2, #11111100B
		MOV	P1, R2
		JNB	P1.5, BUT0T
		CLR	022H.0
		AJMP	BUT0N
	BUT0T:	JB	022H.0, BUT0N
		SETB	022H.0
		/* PRESS 0 COMMANDS */
		/*
		LCALL	MOVNUM
		MOV	030H, #000H
		*/
		MOV	021H, #00000011B
	BUT0N:	JNB	P1.4, BUT1T
		CLR	022H.1
		AJMP	BUT1N
	BUT1T:	JB	022H.1, BUT1N
		SETB	022H.1
		/* PRESS 1 COMMANDS */
		MOV	021H, #00000110B
	BUT1N:	JNB	P1.3, BUT2T
		CLR	022H.2
		AJMP	BUT2N
	BUT2T:	JB	022H.2, BUT2N
		SETB	022H.2
		/* PRESS 2 COMMANDS */
		MOV	021H, #00001100B
	BUT2N:	JNB	P1.2, BUT3T
		CLR	022H.3
		AJMP	BUT3N
	BUT3T:	JB	022H.3, BUT3N
		SETB	022H.3
		/* PRESS 3 COMMANDS */
		MOV	021H, #00011000B
	BUT3N:	INC	R2
		MOV	P1, R2
		JNB	P1.5, BUT4T
		CLR	022H.4
		AJMP	BUT4N
	BUT4T:	JB	022H.4, BUT4N
		SETB	022H.4
		/* PRESS 4 COMMANDS */
		MOV	021H, #00110000B
	BUT4N:	JNB	P1.4, BUT5T
		CLR	022H.5
		AJMP	BUT5N
	BUT5T:	JB	022H.5, BUT5N
		SETB	02EH.5
		/* PRESS 5 COMMANDS */
		MOV	021H, #00100000B
	BUT5N:	JNB	P1.3, BUT6T
		CLR	022H.6
		AJMP	BUT6N
	BUT6T:	JB	022H.6, BUT6N
		SETB	022H.6
		/* PRESS 6 COMMANDS */
		MOV	021H, #00000100B
	BUT6N:	JNB	P1.2, BUT7T
		CLR	022H.7
		AJMP	BUT7N
	BUT7T:	JB	022H.7, BUT7N
		SETB	022H.7
		/* PRESS 7 COMMANDS */
		MOV	021H, #11000000B
	BUT7N:	INC	R2
		MOV	P1, R2
		JNB	P1.5, BUT8T
		CLR	023H.0
		AJMP	BUT8N
	BUT8T:	JB	023H.0, BUT8N
		SETB	023H.0
		/* PRESS 8 COMMANDS */
		MOV	021H, #01100000B
	BUT8N:	JNB	P1.4, BUT9T
		CLR	023H.1
		AJMP	BUT9N
	BUT9T:	JB	023H.1, BUT9N
		SETB	023H.1
		/* PRESS 9 COMMANDS */
		MOV	021H, #01000000B
	BUT9N:	JNB	P1.3, BUTAT
		CLR	023H.2
		AJMP	BUTAN
	BUTAT:	JB	023H.2, BUTAN
		SETB	023H.2
		/* PRESS A COMMANDS */
		MOV	021H, #00001000B
	BUTAN:	JNB	P1.2, BUTBT
		CLR	023H.3
		AJMP	BUTBN
	BUTBT:	JB	023H.3, BUTBN
		SETB	023H.3
		/* PRESS B COMMANDS */
		MOV	021H, #00000001B
	BUTBN:	INC	R2
		MOV	P1, R2
		JNB	P1.5, BUTCT
		CLR	023H.4
		AJMP	BUTCN
	BUTCT:	JB	023H.4, BUTCN
		SETB	023H.4
		/* PRESS C COMMANDS */
		MOV	021H, #00000000B
	BUTCN:	JNB	P1.4, BUTDT
		CLR	023H.5
		AJMP	BUTDN
	BUTDT:	JB	023H.5, BUTDN
		SETB	023H.5
		/* PRESS D COMMANDS */
		MOV	021H, #10000000B
	BUTDN:	JNB	P1.3, BUTET
		CLR	023H.6
		AJMP	BUTEN
	BUTET:	JB	023H.6, BUTEN
		SETB	023H.6
		/* PRESS E COMMANDS */
		MOV	021H, #00010000B
	BUTEN:	JNB	P1.2, BUTFT
		CLR	023H.7
		AJMP	BUTFN
	BUTFT:	JB	023H.7, BUTFN
		SETB	023H.7
		/* PRESS F COMMANDS */
		MOV	021H, #00000010B
	BUTFN:	RET
OUTPU0:		MOV	A, 021H
		CPL	A
		MOV	P2, A
		RET
DELAY:		JB	TF0, DELFI
		AJMP	DELAY
	DELFI:	CLR	TF0
		MOV	TH0, #03CH
		MOV	TL0, #0B0H
		RET
TABLE:	
	ORG	0A00H
	END